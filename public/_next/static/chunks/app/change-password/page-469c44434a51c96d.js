(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6973],{68544:function(e,r,s){Promise.resolve().then(s.bind(s,1219))},1219:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return d}});var t=s(99891),n=s(56952),a=s.n(n),o=s(20955),c=s(24033),l=s(63715),i=s(71424),u=s(26705);function d(){var e,r=(0,o.useState)(""),s=r[0],n=r[1],d=(0,o.useState)(""),f=d[0],p=d[1],m=(0,o.useState)(""),h=m[0],x=m[1],b=(0,o.useState)(!1),g=b[0],w=b[1],y=(0,o.useState)(""),v=y[0],j=y[1],N=(0,c.useRouter)(),_=(e=(0,t.Z)(a().mark(function e(r){var t,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),w(!0),j(""),!(f!==h)){e.next=7;break}return j("New passwords do not match"),w(!1),e.abrupt("return");case 7:if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(f)){e.next=12;break}return j("Password must be at least 8 characters long and include uppercase, lowercase, number, and special character"),w(!1),e.abrupt("return");case 12:return e.prev=12,e.next=15,fetch("/api/auth/patient/change-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({currentPassword:s,newPassword:f})});case 15:return t=e.sent,e.next=18,t.json();case 18:if(n=e.sent,t.ok){e.next=21;break}throw Error(n.message||"Failed to change password");case 21:i.Am.success("Password changed successfully"),setTimeout(function(){N.push("/client")},2e3),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),j(e.t0.message||"An error occurred while changing password");case 28:return e.prev=28,w(!1),e.finish(28);case 31:case"end":return e.stop()}},e,null,[[12,25,28,31]])})),function(r){return e.apply(this,arguments)});return(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Change Password"}),(0,u.jsx)("p",{className:"text-gray-600 mt-2",children:"Please set your new password"})]}),(0,u.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,u.jsx)("input",{type:"password",value:s,onChange:function(e){return n(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your current password",required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,u.jsx)("input",{type:"password",value:f,onChange:function(e){return p(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your new password",required:!0,minLength:8})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,u.jsx)("input",{type:"password",value:h,onChange:function(e){return x(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your new password",required:!0,minLength:8})]}),v&&(0,u.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:v}),(0,u.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:g?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Changing Password..."]}):"Change Password"}),(0,u.jsxs)("div",{className:"text-sm text-gray-500 mt-4",children:[(0,u.jsx)("p",{children:"Password requirements:"}),(0,u.jsxs)("ul",{className:"list-disc list-inside mt-2",children:[(0,u.jsx)("li",{children:"At least 8 characters long"}),(0,u.jsx)("li",{children:"Include both uppercase and lowercase letters"}),(0,u.jsx)("li",{children:"Include at least one number"}),(0,u.jsx)("li",{children:"Include at least one special character"})]})]})]})]})})}},69991:function(e,r,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=s(20955),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,s){var t,a={},i=null,u=null;for(t in void 0!==s&&(i=""+s),void 0!==r.key&&(i=""+r.key),void 0!==r.ref&&(u=r.ref),r)o.call(r,t)&&!l.hasOwnProperty(t)&&(a[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===a[t]&&(a[t]=r[t]);return{$$typeof:n,type:e,key:i,ref:u,props:a,_owner:c.current}}r.Fragment=a,r.jsx=i,r.jsxs=i},26705:function(e,r,s){"use strict";e.exports=s(69991)},24033:function(e,r,s){e.exports=s(65367)},99891:function(e,r,s){"use strict";function t(e,r,s,t,n,a,o){try{var c=e[a](o),l=c.value}catch(e){s(e);return}c.done?r(l):Promise.resolve(l).then(t,n)}function n(e){return function(){var r=this,s=arguments;return new Promise(function(n,a){var o=e.apply(r,s);function c(e){t(o,n,a,c,l,"next",e)}function l(e){t(o,n,a,c,l,"throw",e)}c(void 0)})}}s.d(r,{Z:function(){return n}})}},function(e){e.O(0,[6107,4121,6531,1744],function(){return e(e.s=68544)}),_N_E=e.O()}]);