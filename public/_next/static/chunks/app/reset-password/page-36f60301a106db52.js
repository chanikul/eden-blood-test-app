(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2363],{65531:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var s=t(20955);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),i=e=>{let r=a(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),o=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:d,...u},h)=>(0,s.createElement)("svg",{ref:h,...c,width:r,height:r,stroke:e,strokeWidth:n?24*Number(t)/Number(r):t,className:l("lucide",a),...!i&&!o(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(i)?i:[i]])),u=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...a},o)=>(0,s.createElement)(d,{ref:o,iconNode:r,className:l(`lucide-${n(i(e))}`,`lucide-${e}`,t),...a}));return t.displayName=i(e),t}},63715:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var s=t(65531);let n=(0,s.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},73581:function(e,r,t){Promise.resolve().then(t.bind(t,92593))},92593:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var s=t(99891),n=t(56952),a=t.n(n),i=t(20955),l=t(24033),o=t(61396),c=t.n(o),d=t(63715),u=t(26705);function h(){var e,r=(0,l.useSearchParams)(),t=null==r?void 0:r.get("token"),n=(0,i.useState)(""),o=n[0],h=n[1],m=(0,i.useState)(""),x=m[0],p=m[1],f=(0,i.useState)(!1),g=f[0],b=f[1],w=(0,i.useState)(""),j=w[0],v=w[1],N=(0,i.useState)(!1),y=N[0],k=N[1],P=(0,l.useRouter)(),C=(e=(0,s.Z)(a().mark(function e(r){var s,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),b(!0),v(""),!(o!==x)){e.next=7;break}return v("Passwords do not match"),b(!1),e.abrupt("return");case 7:if(!(o.length<8)){e.next=11;break}return v("Password must be at least 8 characters long"),b(!1),e.abrupt("return");case 11:return e.prev=11,e.next=14,fetch("/api/auth/patient/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,newPassword:o})});case 14:return s=e.sent,e.next=17,s.json();case 17:if(n=e.sent,s.ok){e.next=20;break}throw Error(n.message||"Failed to reset password");case 20:k(!0),setTimeout(function(){P.push("/login")},3e3),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(11),v(e.t0.message||"An error occurred while resetting password");case 27:return e.prev=27,b(!1),e.finish(27);case 30:case"end":return e.stop()}},e,null,[[11,24,27,30]])})),function(r){return e.apply(this,arguments)});return t?(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),(0,u.jsx)("p",{className:"text-gray-600 mt-2",children:"Please enter your new password"})]}),y?(0,u.jsx)("div",{className:"space-y-6",children:(0,u.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:[(0,u.jsx)("p",{children:"Your password has been reset successfully!"}),(0,u.jsx)("p",{className:"mt-2",children:"Redirecting to login page..."})]})}):(0,u.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,u.jsx)("input",{type:"password",value:o,onChange:function(e){return h(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your new password",required:!0,minLength:8})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,u.jsx)("input",{type:"password",value:x,onChange:function(e){return p(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your new password",required:!0,minLength:8})]}),j&&(0,u.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:j}),(0,u.jsxs)("div",{className:"text-sm text-gray-500 mt-4",children:[(0,u.jsx)("p",{children:"Password requirements:"}),(0,u.jsxs)("ul",{className:"list-disc list-inside mt-2",children:[(0,u.jsx)("li",{children:"At least 8 characters long"}),(0,u.jsx)("li",{children:"Include both uppercase and lowercase letters"}),(0,u.jsx)("li",{children:"Include at least one number"}),(0,u.jsx)("li",{children:"Include at least one special character"})]})]}),(0,u.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700  disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:g?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.Z,{className:"w-5 h-5 animate-spin"}),(0,u.jsx)("span",{children:"Resetting Password..."})]}):"Reset Password"})]}),(0,u.jsx)("div",{className:"mt-8 border-t pt-6",children:(0,u.jsxs)("p",{className:"text-sm text-center text-gray-600",children:["Need help? Contact us at"," ",(0,u.jsx)("a",{href:"mailto:support@edenclinicformen.com",className:"text-blue-600 hover:text-blue-800 transition-colors",children:"support@edenclinicformen.com"})]})})]})}):(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Invalid Reset Link"}),(0,u.jsx)("p",{className:"text-gray-600 mt-2",children:"This password reset link is invalid or has expired."})]}),(0,u.jsx)("div",{className:"text-center",children:(0,u.jsx)(c(),{href:"/forgot-password",className:"text-blue-600 hover:text-blue-800 transition-colors",children:"Request New Reset Link"})})]})})}},24033:function(e,r,t){e.exports=t(65367)},99891:function(e,r,t){"use strict";function s(e,r,t,s,n,a,i){try{var l=e[a](i),o=l.value}catch(e){t(e);return}l.done?r(o):Promise.resolve(o).then(s,n)}function n(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var i=e.apply(r,t);function l(e){s(i,n,a,l,o,"next",e)}function o(e){s(i,n,a,l,o,"throw",e)}l(void 0)})}}t.d(r,{Z:function(){return n}})}},function(e){e.O(0,[4466,4121,6531,1744],function(){return e(e.s=73581)}),_N_E=e.O()}]);