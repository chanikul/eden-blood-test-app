(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2060],{86505:function(e,r,n){Promise.resolve().then(n.bind(n,40916))},40916:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return a}});var t=n(99891),o=n(56952),s=n.n(o),i=n(20955),c=n(24033),u=n(26705);function a(){var e=(0,c.useRouter)(),r=(0,c.useSearchParams)(),n=(0,i.useState)(!0),o=n[0],a=n[1],l=(0,i.useState)(null),f=l[0],d=l[1];return((0,i.useEffect)(function(){var n,o=r.get("session_id");if(!o){d("Missing session_id."),a(!1);return}fetch("/api/finalize-order?session_id=".concat(encodeURIComponent(o)),{method:"GET",credentials:"include"}).then((n=(0,t.Z)(s().mark(function r(n){var t;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.redirected){r.next=3;break}return window.location.href=n.url,r.abrupt("return");case 3:return r.next=5,n.json();case 5:(t=r.sent).redirectTo?e.replace(t.redirectTo):t.error&&d(t.error),a(!1);case 8:case"end":return r.stop()}},r)})),function(e){return n.apply(this,arguments)})).catch(function(e){d("Failed to finalize order."),a(!1)})},[e,r]),o)?(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Finalizing your order..."}),(0,u.jsx)("p",{className:"text-gray-500",children:"Please wait while we complete your order and set up your account."})]}):f?(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Error"}),(0,u.jsx)("p",{className:"text-gray-500",children:f})]}):null}},69991:function(e,r,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=n(20955),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,n){var t,s={},a=null,l=null;for(t in void 0!==n&&(a=""+n),void 0!==r.key&&(a=""+r.key),void 0!==r.ref&&(l=r.ref),r)i.call(r,t)&&!u.hasOwnProperty(t)&&(s[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===s[t]&&(s[t]=r[t]);return{$$typeof:o,type:e,key:a,ref:l,props:s,_owner:c.current}}r.Fragment=s,r.jsx=a,r.jsxs=a},26705:function(e,r,n){"use strict";e.exports=n(69991)},24033:function(e,r,n){e.exports=n(65367)},99891:function(e,r,n){"use strict";function t(e,r,n,t,o,s,i){try{var c=e[s](i),u=c.value}catch(e){n(e);return}c.done?r(u):Promise.resolve(u).then(t,o)}function o(e){return function(){var r=this,n=arguments;return new Promise(function(o,s){var i=e.apply(r,n);function c(e){t(i,o,s,c,u,"next",e)}function u(e){t(i,o,s,c,u,"throw",e)}c(void 0)})}}n.d(r,{Z:function(){return o}})}},function(e){e.O(0,[4121,6531,1744],function(){return e(e.s=86505)}),_N_E=e.O()}]);