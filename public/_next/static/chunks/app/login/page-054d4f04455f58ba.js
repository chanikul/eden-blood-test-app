(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{19235:function(e,r,s){Promise.resolve().then(s.bind(s,87296))},87296:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return p}});var t=s(99891),n=s(56952),o=s.n(n),a=s(20955),c=s(24033),l=s(61396),i=s.n(l),u=s(63715),d=s(71424),m=s(26705);function p(){var e,r=(0,a.useState)(""),s=r[0],n=r[1],l=(0,a.useState)(""),p=l[0],x=l[1],h=(0,a.useState)(!1),f=h[0],g=h[1],b=(0,a.useState)(""),y=b[0],v=b[1],j=(0,c.useRouter)(),w=(e=(0,t.Z)(o().mark(function e(r){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),g(!0),v(""),e.prev=3,e.next=6,fetch("/api/auth/patient/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,password:p})});case 6:return t=e.sent,e.next=9,t.json();case 9:if(n=e.sent,t.ok){e.next=13;break}throw console.error("Login response error:",{status:t.status,data:n}),Error(n.message||"Login failed");case 13:console.log("Login response:",n),n.passwordChangeRequired?(d.Am.info("Please change your password"),j.push("/change-password")):(d.Am.success("Login successful"),window.location.href="/client"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("Login error details:",{name:e.t0.name,message:e.t0.message,stack:e.t0.stack}),v(e.t0.message||"An error occurred during login"),d.Am.error(e.t0.message||"Login failed");case 22:return e.prev=22,g(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[3,17,22,25]])})),function(r){return e.apply(this,arguments)});return(0,m.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,m.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[(0,m.jsxs)("div",{className:"text-center mb-8",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Eden Clinic"}),(0,m.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome to your Patient Portal"})]}),(0,m.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,m.jsx)("input",{type:"email",value:s,onChange:function(e){return n(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"your.email@example.com",required:!0})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,m.jsx)("input",{type:"password",value:p,onChange:function(e){return x(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",required:!0})]}),y&&(0,m.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:y}),(0,m.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700  disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:f?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{className:"w-5 h-5 animate-spin"}),(0,m.jsx)("span",{children:"Signing In..."})]}):"Sign In"})]}),(0,m.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)(i(),{href:"/forgot-password",className:"text-blue-600 hover:text-blue-800 text-sm transition-colors",children:"Forgot your password?"})}),(0,m.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[(0,m.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"First time logging in?"}),(0,m.jsx)("p",{className:"text-sm text-blue-700",children:'If you selected "Create Account" during checkout, check your email for your temporary password. You\'ll be prompted to change your password on first login.'}),(0,m.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"If you checked out as a guest, you'll need to create an account to access your results. Please contact support for assistance."})]}),(0,m.jsx)("div",{className:"border-t pt-6",children:(0,m.jsxs)("p",{className:"text-sm text-center text-gray-600",children:["Need help? Contact us at"," ",(0,m.jsx)("a",{href:"mailto:support@edenclinicformen.com",className:"text-blue-600 hover:text-blue-800 transition-colors",children:"support@edenclinicformen.com"})]})})]})]})})}},24033:function(e,r,s){e.exports=s(65367)},99891:function(e,r,s){"use strict";function t(e,r,s,t,n,o,a){try{var c=e[o](a),l=c.value}catch(e){s(e);return}c.done?r(l):Promise.resolve(l).then(t,n)}function n(e){return function(){var r=this,s=arguments;return new Promise(function(n,o){var a=e.apply(r,s);function c(e){t(a,n,o,c,l,"next",e)}function l(e){t(a,n,o,c,l,"throw",e)}c(void 0)})}}s.d(r,{Z:function(){return n}})}},function(e){e.O(0,[4466,6107,4121,6531,1744],function(){return e(e.s=19235)}),_N_E=e.O()}]);