(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6421],{65531:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var s=t(20955);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),i=e=>{let r=a(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),l=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:d,...u},m)=>(0,s.createElement)("svg",{ref:m,...c,width:r,height:r,stroke:e,strokeWidth:n?24*Number(t)/Number(r):t,className:o("lucide",a),...!i&&!l(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(i)?i:[i]])),u=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...a},l)=>(0,s.createElement)(d,{ref:l,iconNode:r,className:o(`lucide-${n(i(e))}`,`lucide-${e}`,t),...a}));return t.displayName=i(e),t}},74530:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var s=t(65531);let n=(0,s.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43138:function(e,r,t){Promise.resolve().then(t.bind(t,55186))},55186:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var s=t(99891),n=t(56952),a=t.n(n),i=t(74530),o=t(20955),l=t(26705);function c(e){var r=e.searchParams,t=r.sessionId,n=r.orderId;if(!t||!n)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,l.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Missing Session Information"}),(0,l.jsx)("p",{className:"text-gray-500 mb-6",children:"Unable to verify your payment. Please contact support if this persists."}),(0,l.jsx)("a",{href:"/",className:"inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 transition-colors",children:"Return to Home"})]})});var c=(0,o.useState)(!0),d=c[0],u=c[1],m=(0,o.useState)(null),f=m[0],h=m[1];return((0,o.useEffect)(function(){var e;(e=(0,s.Z)(a().mark(function e(){var r,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Verifying payment:",{sessionId:t,orderId:n}),e.next=4,fetch("/api/verify-payment?sessionId=".concat(t,"&orderId=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return console.log("Verify payment response:",{status:(r=e.sent).status,ok:r.ok,statusText:r.statusText}),e.next=8,r.json();case 8:if(console.log("Response data:",s=e.sent),r.ok){e.next=15;break}return console.error("Payment verification failed:",{error:s.error,status:r.status,data:s}),h(s.error||"Failed to verify payment"),u(!1),e.abrupt("return");case 15:if(!(!s.success&&!s.order)){e.next=20;break}return console.error("Invalid response format:",{data:s,hasSuccess:"success"in s,hasOrder:"order"in s}),h("Invalid server response"),u(!1),e.abrupt("return");case 20:console.log("Payment verified:",{order:s.order}),u(!1),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error verifying payment:",e.t0),h(e.t0 instanceof Error?e.t0.message:"Failed to verify payment"),u(!1);case 29:case"end":return e.stop()}},e,null,[[0,24]])})),function(){return e.apply(this,arguments)})()},[n,t]),d)?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,l.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"Verifying Payment"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please wait while we confirm your payment..."})]})}):f?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,l.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-red-600 mb-4",children:"Payment Verification Failed"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:f}),(0,l.jsx)("a",{href:"/",className:"inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 transition-colors",children:"Return to Home"})]})}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsx)("div",{className:"max-w-2xl w-full mx-auto p-8",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100",children:(0,l.jsx)(i.Z,{className:"h-8 w-8 text-green-600"})}),(0,l.jsx)("h1",{className:"mt-4 text-3xl font-bold text-gray-900",children:"Order Successful!"}),(0,l.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Thank you for your order. We have sent a confirmation email with further instructions."}),(0,l.jsxs)("p",{className:"mt-2 text-gray-500",children:["Order ID: ",n]}),(0,l.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"What happens next:"}),(0,l.jsxs)("ol",{className:"list-decimal text-left ml-8 space-y-2 text-gray-600",children:[(0,l.jsx)("li",{children:"You will receive an email with your order confirmation and instructions"}),(0,l.jsx)("li",{children:"Our team will prepare your blood test kit"}),(0,l.jsx)("li",{children:"The kit will be dispatched to your address"}),(0,l.jsx)("li",{children:"Follow the instructions in the kit to collect your sample"})]})]}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("a",{href:"/",className:"inline-block bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors",children:"Return to Home"})})]})})})}},69991:function(e,r,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=t(20955),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var s,a={},c=null,d=null;for(s in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)i.call(r,s)&&!l.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===a[s]&&(a[s]=r[s]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:o.current}}r.Fragment=a,r.jsx=c,r.jsxs=c},26705:function(e,r,t){"use strict";e.exports=t(69991)},99891:function(e,r,t){"use strict";function s(e,r,t,s,n,a,i){try{var o=e[a](i),l=o.value}catch(e){t(e);return}o.done?r(l):Promise.resolve(l).then(s,n)}function n(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var i=e.apply(r,t);function o(e){s(i,n,a,o,l,"next",e)}function l(e){s(i,n,a,o,l,"throw",e)}o(void 0)})}}t.d(r,{Z:function(){return n}})}},function(e){e.O(0,[4121,6531,1744],function(){return e(e.s=43138)}),_N_E=e.O()}]);