"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1143],{41143:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var n=t(70599),a=t(99891),s=t(56952),c=t.n(s),o=t(20955),i=t(26705);function d(){var e=(0,o.useState)([]),r=e[0],t=e[1],s=(0,o.useState)(!0),d=s[0],l=s[1],u=(0,o.useState)(null),p=u[0],x=u[1];(0,o.useEffect)(function(){function e(){return(e=(0,a.Z)(c().mark(function e(){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),x(null),e.prev=2,e.next=5,fetch("/api/products?admin=1");case 5:if((r=e.sent).ok){e.next=8;break}throw Error("Failed to fetch products");case 8:return e.next=10,r.json();case 10:t(e.sent),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),x(e.t0.message||"Failed to load products");case 17:return e.prev=17,l(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[2,14,17,20]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var h=(0,n.Z)(r).sort(function(e,r){return r.created-e.created});return(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Stripe Blood Test Products"}),d?(0,i.jsx)("div",{children:"Loading…"}):p?(0,i.jsx)("div",{className:"text-red-600",children:p}):(0,i.jsxs)("table",{className:"min-w-full border text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"bg-gray-100",children:[(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Product Name"}),(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Price"}),(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Active"}),(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Hidden"}),(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Product ID"}),(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Price ID"}),(0,i.jsx)("th",{className:"px-2 py-1 border",children:"Created"})]})}),(0,i.jsx)("tbody",{children:h.map(function(e){return(0,i.jsxs)("tr",{className:e.active?"":"bg-gray-100 text-gray-400",children:[(0,i.jsx)("td",{className:"px-2 py-1 border",children:e.name}),(0,i.jsxs)("td",{className:"px-2 py-1 border",children:["\xa3",e.price.toFixed(2)," ",e.currency.toUpperCase()]}),(0,i.jsx)("td",{className:"px-2 py-1 border text-center",children:e.active?"✅":"❌"}),(0,i.jsx)("td",{className:"px-2 py-1 border text-center",children:e.hidden?"\uD83D\uDE48":""}),(0,i.jsx)("td",{className:"px-2 py-1 border font-mono",children:e.id}),(0,i.jsx)("td",{className:"px-2 py-1 border font-mono",children:e.priceId}),(0,i.jsx)("td",{className:"px-2 py-1 border",children:new Date(1e3*e.created).toLocaleString()})]},e.id)})})]})]})}},70599:function(e,r,t){function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(r,{Z:function(){return a}})}}]);